app = 'ai-cv-agent'
primary_region = "fra"

# As of now, the maximum kill_timeout on fly.io is 5 minutes. After
# 5 minutes, in-progress AI voice conversations will be killed. This is limitation of
# fly and we recommend that your app be able to gracefully handle this.
# The easiest way to handle this is to create a new LiveKit room which will receive
# a new agent.
kill_timeout = "300s"

[build]
  dockerfile = "Dockerfile"
  ignorefile = ".dockerignore"

[env]
  PYTHONUNBUFFERED = '1'

[[vm]]
  memory = '2gb'
  cpu_kind = 'shared'
  cpus = 1

[deploy]
  # We want to leave the previous deploy running to allow active conversations to drain
  # so we use a canary strategy, which does not require a health check.
  strategy = "canary"
